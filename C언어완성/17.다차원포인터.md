# 다차원 포인터
## 2차원 포인터
### 2차원 포인터를 사용하여 일반 변수의 값 대입하기
```c
#include<stdio.h>

void main()
{
	short data = 3;
	short *p = &data; /* data변수의 주소 값을 1차원 포인터 p에 저장*/
	short **pp = &p; /* 1차원 포인터 p변수의 주소 값을 2차원 포인터 pp에 저장*/

	printf("[Before] data : %d\n", data);
	*p = 4; /* 1차원 포인터 p를 사용하여 data 변수 값을 4로 수정*/
	printf("[Use *p] data : %d\n", data);
	**pp = 5; /*2차원 포인터 pp를 사용하여 data변수 값을 5로 수정*/
	printf("[Use **pp] data : %d\n", data);
}
```
### malloc 함수를 사용하여 2차원 포인터 구조 만들기
```c
#include<stdio.h>
#include<malloc.h>

void main()
{
	short** pp;
	pp = (short**)malloc(sizeof(short*)); /* 4바이트를 할당함. 두번째 상자 만듬*/
	*pp = (short*)malloc(sizeof(short)); /* 2바이트를 할당. 세번째 상자 만듬*/

	**pp = 10; /* 2차원 포인터를 사용하여 세번째 상자에 10을 대입*/
	printf("**p : %d\n", **pp);
	free(*pp); /* 세번째 상자에 해당하는 메모리 해제*/
	free(pp); /* 두 번째 상자에 해당하는 메모리 해제*/
}
```
**동적으로 할당한 메모리를 해제하는 순서가 매우 중요**       

두 번째 상자가 세 번째 상자의 주소값을 가지고 있기 때문에 두 번째 상자를 먼저 해제하면 세 번째 상자의 주소값을 잃어버려 세 번째 상자에 해당하는 메모리를 해제하지 못하게 된다. 따라서 반드시 세번째 상자 메모리를 먼저 해제해야한다.
## 2차원 포인터와 함수의 매개변수
### 2차원 포인터롤 8바이트 동적 메모리를 할당하는 함수 만들기
```c
#include<stdio.h>
#include<malloc.h>

void GetMyData(int** q) /* 포인터 변수 q는 p변수의 주소 값을 저장*/
{
	/* 할당된 메모리의 주소 값을 포인터 q가 가리키는 main함수의 p에 저장*/
	*q = (int*)malloc(8);
}

void main()
{
	int* p;
	GetMyData(&p);
	*p = 5; /* 할당된 메모리의 첫 4바이트에 값 5를 넣음*/
	free(p); /* 할당된 동적 메모리 해제*/
}
```
